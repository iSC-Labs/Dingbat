<!DOCTYPE html>
<html>
<head>
    <!-- Standard Meta -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dingbat</title>




    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Open+Sans:300italic,400,300,700' rel='stylesheet' type='text/css'>
    <link type="text/css" rel="stylesheet" href="bower_components/semantic-ui/build/packaged/css/semantic.min.css" />
    <link type="text/css" rel="stylesheet" href="css/default.css" />
</head>
<body>

<script type="text/x-handlebars" data-template-name="tasks/index">

    <!-- add form -->
    <div class="ui fluid large icon input">
        {{input type="text" placeholder="New Task" value=title action="createTask"}}
        <div class="ui large icon button"><i class="add sign icon"></i></div>
    </div>

    <!-- list -->
    <div class="ui segment">

        {{#if high}}
            <div class="ui red ribbon label">High</div>
            <div class="ui divided relaxed list">
                {{#each high}}
                    <div class="item" >
                        <div class="right floated">
                            <i class="edit sign link icon" {{action "editTask"}}></i>
                            <i class="remove sign link icon" {{action "removeTodo"}}></i>
                        </div>
                        <i class="empty checkbox link icon" {{action "markAsCompleted"}}></i>
                        <div class="content">
                            {{#if isEditing}}
                                <div class="ui fluid icon input">
                                    {{edit-task class="edit" value=title focus-out="acceptChanges" insert-newline="acceptChanges"}}
                                    <div class="ui icon button"><i class="add sign icon"></i></div>
                                </div>
                            {{else}}
                                <span {{action "editTask" on="doubleClick"}}>{{title}}</span>
                                <div class="description">{{tags}}</div>
                            {{/if}}
                        </div>
                    </div>
                {{/each}}
            </div>
        {{/if}}

        {{#if normal}}
            <div class="ui teal ribbon label">Normal</div>
            <div class="ui divided relaxed list">
                {{#each normal}}
                    <div class="item" >
                        <div class="right floated">
                            <i class="edit sign link icon" {{action "editTask"}}></i>
                            <i class="remove sign link icon" {{action "removeTodo"}}></i>
                        </div>
                        <i class="empty checkbox link icon" {{action "markAsCompleted"}}></i>
                        <div class="content">
                            {{#if isEditing}}
                                <div class="ui fluid icon input">
                                    {{edit-task class="edit" value=title focus-out="acceptChanges" insert-newline="acceptChanges"}}
                                    <div class="ui icon button"><i class="add sign icon"></i></div>
                                </div>
                            {{else}}
                                <span {{action "editTask" on="doubleClick"}}>{{title}}</span>
                                <div class="description">{{tags}}</div>
                            {{/if}}
                        </div>
                    </div>
                {{/each}}
            </div>
        {{/if}}

        {{#if low}}
            <div class="ui green ribbon label">Low</div>
            <div class="ui divided relaxed list">
                {{#each low}}
                    <div class="item" >
                        <div class="right floated">
                            <i class="edit sign link icon" {{action "editTask"}}></i>
                            <i class="remove sign link icon" {{action "removeTodo"}}></i>
                        </div>
                        <i class="empty checkbox link icon" {{action "markAsCompleted"}}></i>
                        <div class="content">
                            {{#if isEditing}}
                                <div class="ui fluid icon input">
                                    {{edit-task class="edit" value=title focus-out="acceptChanges" insert-newline="acceptChanges"}}
                                    <div class="ui icon button"><i class="add sign icon"></i></div>
                                </div>
                            {{else}}
                                <span {{action "editTask" on="doubleClick"}}>{{title}}</span>
                                <div class="description">{{tags}}</div>
                            {{/if}}
                        </div>
                    </div>
                {{/each}}
            </div>
        {{/if}}

        {{#if completed}}
            <div class="ui ribbon label">Archive</div>
            <div class="ui divided relaxed list">
                {{#each completed}}
                    <div class="item" >
                        <div class="right floated">
                            <i class="edit sign link icon" {{action "editTask"}}></i>
                            <i class="remove sign link icon" {{action "removeTodo"}}></i>
                        </div>
                        <i class="checked checkbox link icon"></i>
                        <div class="content">
                            {{#if isEditing}}
                                <div class="ui fluid icon input">
                                    {{edit-task class="edit" value=title focus-out="acceptChanges" insert-newline="acceptChanges"}}
                                    <div class="ui icon button"><i class="add sign icon"></i></div>
                                </div>
                            {{else}}
                                <span class="completed" {{action "editTask" on="doubleClick"}}>{{title}}</span>
                                <div class="description">{{tags}}</div>
                            {{/if}}
                        </div>
                    </div>
                {{/each}}
            </div>
        {{/if}}

    </div>
</script>


<script type="text/x-handlebars" id="components/index-list">

    <div class="ui divided relaxed list">
        {{#each tasks}}
            <div class="item" >
                <div class="right floated">
                    <i class="edit sign link icon" {{action "editTask"}}></i>
                    <i class="remove sign link icon" {{action "removeTodo"}}></i>
                </div>
                <i class="empty checkbox link icon"></i>
                <div class="content">
                    {{#if isEditing}}
                    <div class="ui fluid icon input">
                        {{edit-task class="edit" value=title focus-out="acceptChanges" insert-newline="acceptChanges"}}
                        <div class="ui icon button"><i class="add sign icon"></i></div>
                    </div>
                    {{else}}
                    <span {{action "editTask" on="doubleClick"}}>{{title}}</span>
                    <div class="description">
                        bug, setup, ui
                    </div>
                    {{/if}}
                </div>
            </div>
        {{else}}
            <div class="item" >
                No Tasks
            </div>
        {{/each}}
    </div>

</script>


<script type="text/x-handlebars" data-template-name="tasks">

<!-- sidebar -->
<div id="sidebar" class="ui right inverted vertical very thin sidebar icon menu">
    <a class="item" data-content="Home">
        <i class="large home link icon"></i>
    </a>
    <a class="item" data-content="Users">
        <i class="large users link icon"></i>
    </a>
    <a class="item" data-content="Settings">
        <i class="large settings link icon"></i>
    </a>
    <a class="item" data-content="Help">
        <i class="large help link icon"></i>
    </a>
    <a class="item" data-content="Help">
        <i class="large sign out link icon"></i>
    </a>
</div>


<div class="ui celled grid">

    <!-- lists -->
    <div id="left" class="five wide column">

        <h1 class="ui header">
            Lists
            <div class="ui right floated button">
                <i class="pencil icon"></i> Edit
            </div>
        </h1>

        <div id="lists" class="ui relaxed divided list">
            <a class="item">
                <div class="left floated"><i class="angle right icon"></i></div>
                <div class="ui right floated label">{{remaining}}</div>
                Project A
            </a>
            <a class="item">
                <div class="left floated"><i class="angle right icon"></i></div>
                <div class="ui right floated label">0</div>
                Project B
            </a>
            <a class="item">
                <div class="left floated"><i class="angle right icon"></i></div>
                <div class="ui right floated label">16</div>
                Project C
            </a>
        </div>

    </div>



        <!-- content -->
        <div id="right" class="eleven wide column">

            <!-- header -->
            <h1 class="ui header">
                Project B
                <div class="ui right floated button toggle-sidebar"><i class="list icon"></i> Menu</div>
            </h1>



            {{outlet}}

        </div>


</div>

</script>


<script src="bower_components/jquery/jquery.min.js" type="text/javascript"></script>
<script src="bower_components/semantic-ui/build/packaged/javascript/semantic.min.js" type="text/javascript"></script>
<script src="bower_components/handlebars/handlebars.js" type="text/javascript"></script>
<script src="bower_components/ember/ember.js" type="text/javascript"></script>
<script src="bower_components/ember-data/ember-data.js" type="text/javascript"></script>
<script src="javascript/application.js" type="text/javascript"></script>
<script src="javascript/router.js" type="text/javascript"></script>
<script src="javascript/task.js" type="text/javascript"></script>
<script src="javascript/controllers/tasks_controller.js" type="text/javascript"></script>
<script src="javascript/controllers/tasks_index_controller.js" type="text/javascript"></script>
<script src="javascript/controllers/task_controller.js" type="text/javascript"></script>
<script src="javascript/views/edit_task_view.js" type="text/javascript"></script>

<script type="text/javascript">
    $(function() {

        $('.toggle-sidebar').click(function() {
            $('.ui.sidebar').sidebar('toggle');
        });

        $('[data-content]').popup();

        $('#add-form').form({
            task: {
                identifier: 'task',
                rules: [{
                    type: 'empty'
                }]
            }
        }, {
            onFailure: function() {
                $(this).transition({
                    animation: 'flash',
                    duration:  '400ms'
                });
                return false;
            }
        });

    });
</script>

</body>
</html>